<div class="container mt-4">
  <div class="d-flex justify-content-between">

  <h2>Warehouses</h2>

  <!-- Button to show the form -->
  <button class="btn btn-primary mb-3" (click)="showForm = !showForm">
    {{ showForm ? 'Cancel' : (newWarehouse.id === 0 ? 'Create New Warehouse' : 'Edit Warehouse') }}
  </button>
</div>
  <!-- Hidden form for creating or editing a warehouse -->
  <form *ngIf="showForm" (ngSubmit)="createWarehouse()">
    <div class="form-group mb-2">
      <label for="name">Name</label>
      <input type="text" id="name" class="form-control" [(ngModel)]="newWarehouse.name" name="name" required />
    </div>
    <div class="form-group mb-2">
      <label for="address">Address</label>
      <input type="text" id="address" class="form-control" [(ngModel)]="newWarehouse.address" name="address" required />
    </div>
    <div class="form-group mb-2">
      <label for="city">City</label>
      <input type="text" id="city" class="form-control" [(ngModel)]="newWarehouse.city" name="city" required />
    </div>
    <div class="form-group mb-2">
      <label for="country">Country</label>
      <input type="text" id="country" class="form-control" [(ngModel)]="newWarehouse.country" name="country" required />
    </div>
    <button type="submit" style="display: block;justify-self: center;margin: 30px;" class="btn btn-success">{{ newWarehouse.id === 0 ? 'Create' : 'Update' }}</button>
  </form>

  <!-- Warehouse Table -->
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Address</th>
        <th>City</th>
        <th>Country</th>
        <th>Items Count</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let warehouse of warehouses">
        <td>{{ warehouse.id }}</td>
        <td>{{ warehouse.name }}</td>
        <td>{{ warehouse.address }}</td>
        <td>{{ warehouse.city }}</td>
        <td>{{ warehouse.country }}</td>
        <td>{{ warehouse.items.length }}</td>
        <td class="d-flex justify-content-around">
          <button class="btn btn-warning btn-sm" (click)="editWarehouse(warehouse)">Edit</button>
          <button class="btn btn-danger btn-sm" (click)="deleteWarehouse(warehouse.id!)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
